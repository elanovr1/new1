# æ™ºèƒ½ç”µé”€ç‹ - Android APP

## ğŸ“± é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºOdooå®¢æˆ·ç®¡ç†ç³»ç»Ÿçš„æ™ºèƒ½ç”µé”€Androidåº”ç”¨ï¼Œæä¾›è‡ªåŠ¨æ‹¨å·ã€é€šè¯è®°å½•ã€å®¢æˆ·ç®¡ç†ç­‰åŠŸèƒ½ï¼Œå¤§å¹…æå‡ç”µé”€æ•ˆç‡ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. è‡ªåŠ¨æ‹¨å·ç³»ç»Ÿ ğŸ“
- **ä¸€é”®æ‹¨å·**ï¼šç‚¹å‡»å®¢æˆ·å³å¯æ‹¨æ‰“
- **è‡ªåŠ¨æ‹¨å·é˜Ÿåˆ—**ï¼šæŒ‰ä¼˜å…ˆçº§è‡ªåŠ¨æ‹¨æ‰“å®¢æˆ·åˆ—è¡¨
- **æ™ºèƒ½è·³è¿‡**ï¼šè‡ªåŠ¨è·³è¿‡å·²æ‹¨æ‰“ã€æ— æ•ˆå·ç 
- **æ‹¨å·é—´éš”æ§åˆ¶**ï¼šå¯è®¾ç½®æ‹¨å·é—´éš”ï¼Œé¿å…è¿‡å¿«

### 2. å®¢æˆ·ç®¡ç† ğŸ‘¥
- **å®¢æˆ·åˆ—è¡¨**ï¼šå®æ—¶åŒæ­¥Odooåå°å®¢æˆ·æ•°æ®
- **å®¢æˆ·è¯¦æƒ…**ï¼šæŸ¥çœ‹å®Œæ•´å®¢æˆ·ä¿¡æ¯
- **å®¢æˆ·ç­›é€‰**ï¼šæŒ‰ç±»å‹ã€ç­‰çº§ã€çŠ¶æ€ç­›é€‰
- **æœç´¢åŠŸèƒ½**ï¼šå¿«é€Ÿæœç´¢å®¢æˆ·

### 3. é€šè¯è®°å½• ğŸ“
- **è‡ªåŠ¨è®°å½•**ï¼šé€šè¯ç»“æŸè‡ªåŠ¨ç”Ÿæˆè®°å½•
- **å¿«é€Ÿè·Ÿè¿›**ï¼šé€šè¯åç«‹å³æ·»åŠ è·Ÿè¿›å†…å®¹
- **åŒæ­¥åå°**ï¼šè‡ªåŠ¨åŒæ­¥åˆ°Odooç³»ç»Ÿ
- **é€šè¯ç»Ÿè®¡**ï¼šæŸ¥çœ‹é€šè¯æ—¶é•¿ã€æ¬¡æ•°ç»Ÿè®¡

### 4. è·Ÿè¿›ç®¡ç† âœï¸
- **å¿«é€Ÿè·Ÿè¿›**ï¼šé€šè¯åå¿«é€Ÿè®°å½•è·Ÿè¿›å†…å®¹
- **è·Ÿè¿›æ¨¡æ¿**ï¼šé¢„è®¾å¸¸ç”¨è·Ÿè¿›è¯æœ¯
- **è·Ÿè¿›æé†’**ï¼šè®¾ç½®ä¸‹æ¬¡è·Ÿè¿›æ—¶é—´
- **å†å²è®°å½•**ï¼šæŸ¥çœ‹å®Œæ•´è·Ÿè¿›å†å²

### 5. å·¥ä½œç»Ÿè®¡ ğŸ“Š
- **æ—¥æŠ¥ç»Ÿè®¡**ï¼šæ¯æ—¥æ‹¨æ‰“æ•°é‡ã€æ¥é€šç‡
- **æœˆåº¦æŠ¥è¡¨**ï¼šæœˆåº¦ä¸šç»©ç»Ÿè®¡
- **æ’è¡Œæ¦œ**ï¼šå›¢é˜Ÿæ‹¨æ‰“æ’å
- **æ•ˆç‡åˆ†æ**ï¼šåˆ†ææœ€ä½³æ‹¨æ‰“æ—¶æ®µ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **å¼€å‘è¯­è¨€**ï¼šJava/Kotlin
- **æœ€ä½ç‰ˆæœ¬**ï¼šAndroid 6.0 (API 23)
- **ç›®æ ‡ç‰ˆæœ¬**ï¼šAndroid 13 (API 33)
- **æ¶æ„æ¨¡å¼**ï¼šMVVM
- **ç½‘ç»œè¯·æ±‚**ï¼šRetrofit + OkHttp
- **æ•°æ®åº“**ï¼šRoom
- **UIæ¡†æ¶**ï¼šMaterial Design 3

### æ ¸å¿ƒç»„ä»¶
```
app/
â”œâ”€â”€ activity/          # é¡µé¢Activity
â”œâ”€â”€ fragment/          # Fragmentç»„ä»¶
â”œâ”€â”€ service/           # åå°æœåŠ¡
â”œâ”€â”€ adapter/           # åˆ—è¡¨é€‚é…å™¨
â”œâ”€â”€ model/             # æ•°æ®æ¨¡å‹
â”œâ”€â”€ api/               # APIæ¥å£
â”œâ”€â”€ utils/             # å·¥å…·ç±»
â””â”€â”€ database/          # æœ¬åœ°æ•°æ®åº“
```

## ğŸ“‹ åŠŸèƒ½æ¸…å•

### åŸºç¡€åŠŸèƒ½
- [x] ç”¨æˆ·ç™»å½•/ç™»å‡º
- [x] å®¢æˆ·åˆ—è¡¨å±•ç¤º
- [x] å®¢æˆ·è¯¦æƒ…æŸ¥çœ‹
- [x] ä¸€é”®æ‹¨å·
- [x] é€šè¯è®°å½•ç®¡ç†
- [x] è·Ÿè¿›è®°å½•æ·»åŠ 

### é«˜çº§åŠŸèƒ½
- [x] è‡ªåŠ¨æ‹¨å·é˜Ÿåˆ—
- [x] æ™ºèƒ½æ‹¨å·ç­–ç•¥
- [x] é€šè¯å½•éŸ³ï¼ˆéœ€æƒé™ï¼‰
- [x] è¯­éŸ³è¯†åˆ«ï¼ˆå¯é€‰ï¼‰
- [x] æ•°æ®ç¦»çº¿ç¼“å­˜
- [x] æ¨é€é€šçŸ¥

### ç®¡ç†åŠŸèƒ½
- [x] å·¥ä½œç»Ÿè®¡æŠ¥è¡¨
- [x] å›¢é˜Ÿæ’è¡Œæ¦œ
- [x] ç›®æ ‡è®¾ç½®
- [x] æ•°æ®å¯¼å‡º

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Android Studio Hedgehog (2023.1.1) æˆ–æ›´é«˜ç‰ˆæœ¬
- JDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬
- Android SDK API 33
- Gradle 8.0+

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone [é¡¹ç›®åœ°å€]
cd sales_dialer_app
```

2. **é…ç½®OdooæœåŠ¡å™¨**

ç¼–è¾‘ `app/src/main/java/com/salesdialer/config/ApiConfig.java`ï¼š

```java
public class ApiConfig {
    // ä¿®æ”¹ä¸ºæ‚¨çš„OdooæœåŠ¡å™¨åœ°å€
    public static final String BASE_URL = "https://your-odoo-server.com";
    public static final String DATABASE = "your_database_name";
}
```

3. **æ‰“å¼€é¡¹ç›®**
```bash
# ä½¿ç”¨Android Studioæ‰“å¼€é¡¹ç›®
# File -> Open -> é€‰æ‹©é¡¹ç›®ç›®å½•
```

4. **åŒæ­¥ä¾èµ–**
```bash
# Android Studioä¼šè‡ªåŠ¨æç¤ºåŒæ­¥Gradle
# æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œï¼š
./gradlew build
```

5. **è¿è¡Œåº”ç”¨**
```bash
# è¿æ¥Androidè®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
# ç‚¹å‡»Android Studioçš„è¿è¡ŒæŒ‰é’®
```

## ğŸ“± ä½¿ç”¨è¯´æ˜

### é¦–æ¬¡ä½¿ç”¨

1. **ç™»å½•ç³»ç»Ÿ**
   - è¾“å…¥OdooæœåŠ¡å™¨åœ°å€
   - è¾“å…¥æ•°æ®åº“åç§°
   - è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
   - ç‚¹å‡»ç™»å½•

2. **åŒæ­¥å®¢æˆ·æ•°æ®**
   - é¦–æ¬¡ç™»å½•ä¼šè‡ªåŠ¨åŒæ­¥å®¢æˆ·æ•°æ®
   - ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸‹æ‹‰åˆ·æ–°

3. **å¼€å§‹æ‹¨å·**
   - åœ¨å®¢æˆ·åˆ—è¡¨ç‚¹å‡»å®¢æˆ·
   - ç‚¹å‡»æ‹¨å·æŒ‰é’®
   - é€šè¯ç»“æŸåæ·»åŠ è·Ÿè¿›

### è‡ªåŠ¨æ‹¨å·æ¨¡å¼

1. **å¯åŠ¨è‡ªåŠ¨æ‹¨å·**
   - ç‚¹å‡»å³ä¸‹è§’çš„"è‡ªåŠ¨æ‹¨å·"æŒ‰é’®
   - é€‰æ‹©æ‹¨å·ç­–ç•¥ï¼ˆä¼˜å…ˆçº§ã€æ—¶é—´ç­‰ï¼‰
   - è®¾ç½®æ‹¨å·é—´éš”
   - å¼€å§‹è‡ªåŠ¨æ‹¨å·

2. **æ‹¨å·ä¸­æ“ä½œ**
   - æš‚åœï¼šæš‚åœè‡ªåŠ¨æ‹¨å·
   - è·³è¿‡ï¼šè·³è¿‡å½“å‰å®¢æˆ·
   - æ ‡è®°ï¼šæ ‡è®°ä¸ºæ— æ•ˆ/å·²è´­ç­‰
   - åœæ­¢ï¼šåœæ­¢è‡ªåŠ¨æ‹¨å·

3. **æ‹¨å·åæ“ä½œ**
   - ç³»ç»Ÿè‡ªåŠ¨å¼¹å‡ºè·Ÿè¿›çª—å£
   - å¿«é€Ÿé€‰æ‹©è·Ÿè¿›ç»“æœ
   - æ·»åŠ è·Ÿè¿›å†…å®¹
   - è®¾ç½®ä¸‹æ¬¡è·Ÿè¿›æ—¶é—´

## âš™ï¸ é…ç½®è¯´æ˜

### æ‹¨å·ç­–ç•¥é…ç½®

åœ¨è®¾ç½®ä¸­å¯ä»¥é…ç½®ä»¥ä¸‹æ‹¨å·ç­–ç•¥ï¼š

```java
// æ‹¨å·ä¼˜å…ˆçº§
PRIORITY_HIGH,      // Açº§å®¢æˆ·ä¼˜å…ˆ
PRIORITY_TIME,      // æŒ‰æœ€åè”ç³»æ—¶é—´
PRIORITY_RANDOM,    // éšæœºæ‹¨æ‰“

// æ‹¨å·é—´éš”
INTERVAL_5_SEC,     // 5ç§’é—´éš”
INTERVAL_10_SEC,    // 10ç§’é—´éš”
INTERVAL_30_SEC,    // 30ç§’é—´éš”
INTERVAL_MANUAL,    // æ‰‹åŠ¨æ§åˆ¶

// æ‹¨å·èŒƒå›´
RANGE_ALL,          // å…¨éƒ¨å®¢æˆ·
RANGE_PRIVATE,      // ä»…ç§å®¢
RANGE_PUBLIC,       // ä»…å…¬å®¢
RANGE_LEVEL_A,      // ä»…Açº§å®¢æˆ·
```

### æƒé™é…ç½®

åº”ç”¨éœ€è¦ä»¥ä¸‹æƒé™ï¼š

```xml
<!-- å¿…éœ€æƒé™ -->
<uses-permission android:name="android.permission.CALL_PHONE" />
<uses-permission android:name="android.permission.READ_PHONE_STATE" />
<uses-permission android:name="android.permission.INTERNET" />

<!-- å¯é€‰æƒé™ -->
<uses-permission android:name="android.permission.RECORD_AUDIO" />  <!-- å½•éŸ³ -->
<uses-permission android:name="android.permission.READ_CALL_LOG" /> <!-- é€šè¯è®°å½• -->
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> <!-- å­˜å‚¨ -->
```

## ğŸ” æƒé™è¯´æ˜

### Android 6.0+ è¿è¡Œæ—¶æƒé™

åº”ç”¨åœ¨Android 6.0åŠä»¥ä¸Šç‰ˆæœ¬éœ€è¦åŠ¨æ€ç”³è¯·ä»¥ä¸‹æƒé™ï¼š

1. **æ‹¨æ‰“ç”µè¯** - å¿…éœ€ï¼Œç”¨äºæ‹¨æ‰“å®¢æˆ·ç”µè¯
2. **è¯»å–é€šè¯çŠ¶æ€** - å¿…éœ€ï¼Œç”¨äºç›‘å¬é€šè¯çŠ¶æ€
3. **å½•éŸ³** - å¯é€‰ï¼Œç”¨äºé€šè¯å½•éŸ³åŠŸèƒ½
4. **è¯»å–é€šè¯è®°å½•** - å¯é€‰ï¼Œç”¨äºç»Ÿè®¡é€šè¯æ•°æ®
5. **å­˜å‚¨** - å¯é€‰ï¼Œç”¨äºå¯¼å‡ºæ•°æ®

## ğŸ“Š APIæ¥å£è¯´æ˜

### Odoo APIå¯¹æ¥

åº”ç”¨ä½¿ç”¨Odooçš„XML-RPCæˆ–JSON-RPCæ¥å£ï¼š

```java
// è®¤è¯æ¥å£
POST /web/session/authenticate

// å®¢æˆ·åˆ—è¡¨æ¥å£
POST /web/dataset/call_kw/crm.customer/search_read

// åˆ›å»ºè·Ÿè¿›è®°å½•æ¥å£
POST /web/dataset/call_kw/crm.customer.follow/create

// æ›´æ–°å®¢æˆ·çŠ¶æ€æ¥å£
POST /web/dataset/call_kw/crm.customer/write
```

### æ¥å£è¯·æ±‚ç¤ºä¾‹

```java
// è·å–å®¢æˆ·åˆ—è¡¨
OdooApi.getCustomers(
    domain: [['customer_type', '=', 'private']],
    fields: ['name', 'phone', 'wechat_name', 'level'],
    limit: 100,
    offset: 0
);

// åˆ›å»ºè·Ÿè¿›è®°å½•
OdooApi.createFollowUp(
    customer_id: 123,
    follow_content: "å®¢æˆ·æœ‰æ„å‘...",
    result: "interested",
    next_follow_time: "2025-02-01 10:00:00"
);
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
app/src/main/java/com/salesdialer/
â”œâ”€â”€ MainActivity.java                    # ä¸»Activity
â”œâ”€â”€ LoginActivity.java                   # ç™»å½•é¡µé¢
â”œâ”€â”€ CustomerListActivity.java            # å®¢æˆ·åˆ—è¡¨
â”œâ”€â”€ CustomerDetailActivity.java          # å®¢æˆ·è¯¦æƒ…
â”œâ”€â”€ AutoDialerActivity.java              # è‡ªåŠ¨æ‹¨å·é¡µé¢
â”œâ”€â”€ FollowUpActivity.java                # è·Ÿè¿›é¡µé¢
â”œâ”€â”€ StatisticsActivity.java              # ç»Ÿè®¡é¡µé¢
â”‚
â”œâ”€â”€ adapter/
â”‚   â”œâ”€â”€ CustomerAdapter.java             # å®¢æˆ·åˆ—è¡¨é€‚é…å™¨
â”‚   â”œâ”€â”€ FollowUpAdapter.java             # è·Ÿè¿›è®°å½•é€‚é…å™¨
â”‚   â””â”€â”€ CallLogAdapter.java              # é€šè¯è®°å½•é€‚é…å™¨
â”‚
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ Customer.java                    # å®¢æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ FollowUp.java                    # è·Ÿè¿›è®°å½•æ¨¡å‹
â”‚   â”œâ”€â”€ CallLog.java                     # é€šè¯è®°å½•æ¨¡å‹
â”‚   â””â”€â”€ User.java                        # ç”¨æˆ·æ¨¡å‹
â”‚
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ OdooApiClient.java               # Odoo APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ OdooService.java                 # APIæœåŠ¡æ¥å£
â”‚   â””â”€â”€ ApiCallback.java                 # APIå›è°ƒ
â”‚
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ AutoDialerService.java           # è‡ªåŠ¨æ‹¨å·æœåŠ¡
â”‚   â”œâ”€â”€ CallStateService.java            # é€šè¯çŠ¶æ€ç›‘å¬
â”‚   â””â”€â”€ SyncService.java                 # æ•°æ®åŒæ­¥æœåŠ¡
â”‚
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ AppDatabase.java                 # Roomæ•°æ®åº“
â”‚   â”œâ”€â”€ CustomerDao.java                 # å®¢æˆ·æ•°æ®è®¿é—®å¯¹è±¡
â”‚   â””â”€â”€ FollowUpDao.java                 # è·Ÿè¿›æ•°æ®è®¿é—®å¯¹è±¡
â”‚
â””â”€â”€ utils/
    â”œâ”€â”€ PermissionUtils.java             # æƒé™å·¥å…·
    â”œâ”€â”€ PhoneUtils.java                  # ç”µè¯å·¥å…·
    â”œâ”€â”€ DateUtils.java                   # æ—¥æœŸå·¥å…·
    â””â”€â”€ PreferenceUtils.java             # é…ç½®å·¥å…·
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **åˆ›å»ºæ–°çš„Activity**
```java
public class NewFeatureActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_new_feature);
        // åˆå§‹åŒ–ä»£ç 
    }
}
```

2. **æ·»åŠ åˆ°AndroidManifest.xml**
```xml
<activity
    android:name=".NewFeatureActivity"
    android:label="@string/new_feature_title" />
```

3. **åˆ›å»ºå¯¹åº”çš„å¸ƒå±€æ–‡ä»¶**
```xml
<!-- res/layout/activity_new_feature.xml -->
```

## ğŸ“¦ æ‰“åŒ…å‘å¸ƒ

### Debugç‰ˆæœ¬
```bash
./gradlew assembleDebug
# è¾“å‡º: app/build/outputs/apk/debug/app-debug.apk
```

### Releaseç‰ˆæœ¬
```bash
# 1. é…ç½®ç­¾åå¯†é’¥
# 2. æ‰§è¡Œæ‰“åŒ…å‘½ä»¤
./gradlew assembleRelease
# è¾“å‡º: app/build/outputs/apk/release/app-release.apk
```

### ç­¾åé…ç½®

åœ¨ `app/build.gradle` ä¸­é…ç½®ï¼š

```gradle
android {
    signingConfigs {
        release {
            storeFile file("your-keystore.jks")
            storePassword "your-store-password"
            keyAlias "your-key-alias"
            keyPassword "your-key-password"
        }
    }
    
    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
}
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æ‹¨å·æ²¡æœ‰ååº”ï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
1. æ˜¯å¦æˆäºˆäº†æ‹¨æ‰“ç”µè¯æƒé™
2. å®¢æˆ·æ‰‹æœºå·æ˜¯å¦æ­£ç¡®
3. SIMå¡æ˜¯å¦æ­£å¸¸

### Q2: æ— æ³•è¿æ¥OdooæœåŠ¡å™¨ï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
1. æœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®
2. ç½‘ç»œæ˜¯å¦è¿æ¥
3. OdooæœåŠ¡å™¨æ˜¯å¦å¼€å¯äº†APIè®¿é—®
4. é˜²ç«å¢™è®¾ç½®

### Q3: é€šè¯è®°å½•ä¸åŒæ­¥ï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
1. ç½‘ç»œè¿æ¥çŠ¶æ€
2. Odooç™»å½•çŠ¶æ€
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### Q4: è‡ªåŠ¨æ‹¨å·æ— æ³•å¯åŠ¨ï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
1. æ˜¯å¦æˆäºˆäº†å¿…è¦æƒé™
2. æ˜¯å¦æœ‰å¯æ‹¨æ‰“çš„å®¢æˆ·
3. æ‹¨å·é—´éš”è®¾ç½®æ˜¯å¦åˆç†

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-30)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ å®ç°åŸºç¡€æ‹¨å·åŠŸèƒ½
- âœ¨ å®ç°è‡ªåŠ¨æ‹¨å·é˜Ÿåˆ—
- âœ¨ å®ç°é€šè¯è®°å½•ç®¡ç†
- âœ¨ å®ç°è·Ÿè¿›è®°å½•åŠŸèƒ½
- âœ¨ å®ç°æ•°æ®ç»Ÿè®¡åŠŸèƒ½

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç 
4. å‘èµ·Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æºã€‚

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤Issue
- å‘é€é‚®ä»¶
- æŠ€æœ¯æ”¯æŒç¾¤

---

**å¼€å‘è€…**: Claude AI Assistant  
**ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-01-30
